.\" -*- mode: troff; coding: utf-8 -*-
.\" Automatically generated by Pod::Man 5.01 (Pod::Simple 3.43)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" \*(C` and \*(C' are quotes in nroff, nothing in troff, for use with C<>.
.ie n \{\
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "veredit 1"
.TH veredit 1 2025-12-04 "perl v5.38.2" 2025-12-04
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH NAME
veredit 3.0.19 (Dec 4 2025)
.PP
Script based editor for structural Verilog netlists.
.SH SYNOPSYS
.IX Header "SYNOPSYS"
.Vb 1
\&    veredit <verilog file(s)> [<editfile>] [options]
.Ve
.SS Options
.IX Subsection "Options"
.Vb 10
\&    \-writeEdits            : generate default editfile.
\&      [\-leafCells]         : include leaf cells.
\&      [\-instLength #]      : only include cells with instantiation names
\&                             longer than #.
\&    \-writeDot              : generate Dotty hierarchy file.
\&      [\-leafCells]         : include leaf cells.
\&      [\-instLength #]      : only include cells with instantiation names
\&                             longer than #.
\&    \-install [MODULE\-LIST] : write MPC install file.
\&    \-ifspec [MODULE\-LIST]  : write GenTB ifspec file.
\&      [\-clk CLOCK\-LIST]    : space separated list of clock names.
\&    \-inst [MODULE\-LIST]    : write hierarchical instance names of modules.
\&    \-edt [MODULE\-LIST]     : write ED&T library.
\&    \-hier                  : write module hierarchy.
\&    \-ver                   : write Verilog file.
\&    \-top MODULE\-NAME       : set top module name.
\&    \-expand                : expand port and net declarations, delete single
\&                             net declarations.
\&    \-o OUTFILE             : set outfile name.
.Ve
.SS "Edit Statements"
.IX Subsection "Edit Statements"
.Vb 10
\&    1   Buffer reentrant outputs
\&    2   Insert a buffer (or inverter) behind a cell output
\&    3   Insert a buffer (or inverter) before a cell input
\&    4   Adding input or output observe modules
\&    5   Adding tie cells
\&    6   List instances connected to a certain net
\&    7   Adding a module
\&    8   Deleting a module
\&    9   Add ports or net\-declarations to a module
\&    10  Deleting ports or net\-declarations from a module
\&    11  Modify instance names
\&    12  Add/Modify instances or module connections
\&    13  Modify instances or module connections
\&    14  Delete instances or module connections
\&    15  Add/Modify assigns
\&    16  Delete assigns
\&    17  Create a shell around a module.
\&    18  Replace assigns with buffers.
\&    19  Pull pins to top level.
\&    20  Add/Modify parameter declarations
\&    21  Delete parameter declarations
.Ve
.SH DESCRIPTION
.IX Header "DESCRIPTION"
Veredit can automate editing of a structural verilog netlist. It can automate
any edit that a designer normally would do with a text editor. It has a few
smarter functions like insert a buffer, buffer reentrant outputs, insert observe
modules and show the hierarchy.
.PP
Veredit has proven to be mature, but the output must always be
verified. The motto is: you get what you specify.
.SH HISTORY
.IX Header "HISTORY"
The first version of Veredit was made in 1999 during the CPA [1] project
by Ondrej Popp. The first function was to modify instance names. All
other edit functions have been added by Erwin Waterlander.
.PP
Veredit has been used in several IC design projects in Philips Research
and Philips Semiconductors (now NXP).
Veredit was part of "Paradice" flow.
.PP
Veredit was not an official company tool. It was made by IC designers for IC designers.
See also [1] chapter 9.
.PP
Veredit was build with Ondrej Popp's C3PO:
<https://sourceforge.net/projects/c3po>
.SH REFERENCES
.IX Header "REFERENCES"
[1] CPA designflow evaluation (Go with the flow!)
    Erwin Waterlander, Ad Vaassen and Marcel Oosterhuis
    Philips Research Eindhoven, NL-Rep 7121, Oct 2000
.SH OPTIONS
.IX Header "OPTIONS"
.IP \fB\-writeDot\fR 4
.IX Item "-writeDot"
Display Netlist hierarchy
.Sp
With this option veredit generates a Dotty input file
that shows the hierarchy of the verilog netlist.
All declared modules are included. If option \-leafCells
is also used, all instantiated modules are included.
.Sp
Note that library cells can be removed with the
\&\-novermod option of 'dino'.
.Sp
To convert the output to PDF type:
dot \-Tpdf \-Gsize="7.5,10" foo.dot > foo.pdf
.Sp
dot can be downloaded from: <http://www.research.att.com/sw/tools/graphviz/>
.IP "\fB\-install [MODULE\-LIST]\fR" 4
.IX Item "-install [MODULE-LIST]"
Write MPC install file
.Sp
With the \-install option Veredit will generate MPC install views
of verilog modules. Install files contain abstract views of
leaf cells used by MPC.
.Sp
MPC (Multi Purpose Network Compiler) is a program
to automatically generate structure (e.g. the top level
structure of a chip). Its output is VHDL or Verilog.
.Sp
<https://sourceforge.net/projects/mpsc>
.Sp
MPC can also generate YAPI application structure.
.Sp
MODULE-LIST is an optional space seperated list of module names which will
be written out. When no MODULE-LIST is specified all modules will be
written.
.IP "\fB\-ifspec [MODULE\-LIST] [\-clk CLOCK\-LIST]\fR" 4
.IX Item "-ifspec [MODULE-LIST] [-clk CLOCK-LIST]"
Write GenTB ifspec file
.Sp
With the \-ifspec option Veredit will generate GenTB ifspec views
of verilog modules.
.Sp
GenTB is an automatic testbench generator. It can read a VHDL package or ifspec
file and generate a testbench for the selected entity. The testbench needs a
stimuli file and expected output data. The output is checked on the fly.
.Sp
MODULE-LIST is an optional space seperated list of module names which will be
written out. When no MODULE-LIST is specified all modules will be written.
.Sp
with \-clk CLOCK-LIST a list of clocks can be given. The same as with
the \-clk option of GenTB. The given clocks will not be in the ifspec file.
.IP "\fB\-edt [MODULE\-LIST]\fR" 4
.IX Item "-edt [MODULE-LIST]"
Write ED&T library
.Sp
With opition \-edt one can create a simple ED&T library with
the interfaces of the verilog modules. There are also fanout, fanin
and area figures written in the library, but that are dummy values just
to prevent complaining of the ED&T tools.
.Sp
MODULE-LIST is an optional space seperated list of module names
which will be written in the ED&T library. When no MODULE-LIST
is specified all modules will be written.
.Sp
Examples:
.Sp
.Vb 1
\&    veredit foo.v \-edt top \-o foo.edt_lib
\& 
\&    veredit foo.v \-edt
.Ve
.IP \fB\-ver\fR 4
.IX Item "-ver"
Write Verilog file
.Sp
When there are edit statements a Verilog
output file will always be written. When there
are no edit statements this option \-ver can be
used to force veredit to write out the parsed
Verilog in a file.
.IP "\fB\-top MODULE-NAME\fR" 4
.IX Item "-top MODULE-NAME"
Write Verilog file
.Sp
When \-top is used Veredit will write out a verilog file
with only the hierarchy from module MODULE-NAME and down.
.Sp
Option \-top is optional. If \-top is not used Veredit will
write out all modules as usual.
.IP \fB\-expand\fR 4
.IX Item "-expand"
Expand port and net declarations, delete single net declarations.
.Sp
With this option Veredit expands all port and net declarations
and removes single wire declarations.
.Sp
This is handy when you want to run some AWK or Perl script on your netlist.
It makes parsing much simpler.
.Sp
E.g.
.Sp
.Vb 4
\&    output [2:0] a, b;
\&    input c, d;
\&    wire [2:0] a, b;
\&    wire c, d;
.Ve
.Sp
becomes:
.Sp
.Vb 6
\&    output [2:0] a;
\&    output [2:0] b;
\&    input c;
\&    input d;
\&    wire [2:0] a;
\&    wire [2:0] b;
.Ve
.IP "\fB\-inst [MODULE\-LIST]\fR" 4
.IX Item "-inst [MODULE-LIST]"
Write hierarchical instance names of modules.
.Sp
Write hierarchal instance names to file.
Names are also written to stdout.
When MODULE-LIST is omitted hierachical names
of all modules are printed.
.Sp
Only modules that are in the netlist are listed.
.IP \fB\-hier\fR 4
.IX Item "-hier"
Write module hierarchy
.Sp
Write module hierarchy to file.
Modules are only listed once per hierarchy level.
.IP "\fB\-o OUTFILE\fR" 4
.IX Item "-o OUTFILE"
Set the name of the output Verilog file.
.SH "EDIT-STATEMENTS SYNTAX"
.IX Header "EDIT-STATEMENTS SYNTAX"
Veredit expects first verilog and then edit-statements.
Edit statements work on a module. An edit section for one module looks
like this:
.PP
.Vb 4
\&    MODULE <modulename>
\&    {
\&       [edit\-statements]*
\&    }
.Ve
.PP
For each module you want to edit you can place such a section
in an edit command file.
.PP
E.g.:
.PP
.Vb 5
\&    MODULE module_1
\&    {
\&       edit\-statement_1
\&       edit\-statement_2
\&    }
\&
\&    MODULE module_2
\&    {
\&       edit\-statement_3
\&       edit\-statement_4
\&       edit\-statement_5
\&    }
.Ve
.PP
Edit-statements are applied in the order they are written down. A next
edit statement can immediate edit the result of a previous one.
Only the editing of instance names (\-instance ...) is always done last
during netlist write out.
.PP
Edit statements can have multiple options. The order of the options is fixed
as is shown in this README file. Changing the order will result in a syntax error.
Some options in this file are shown between square brackets. This means that
these options are optional.
.PP
For instance the edit statement '\-buffer' has three options. The options \-input
and \-output are optional.  The <instantiation\-list outputs> option is required.
One cannot change the order of the three options.
.PP
.Vb 7
\&    MODULE <modulename>
\&    {
\&       \-buffer <buffer name>
\&       [ \-input <buffer input pin name> ]
\&       [ \-output <buffer output pin name> ]
\&       <instantiation\-list outputs>
\&    }
.Ve
.PP
The <modulename> may contain one or more asterisk wildcard characters `*'.
The matching algorithm is similar to file name matching.
For instance to apply a certain edit-statement on all modules, one can
do the following:
.PP
.Vb 4
\&    MODULE *
\&    {
\&       edit\-statement_1
\&    }
.Ve
.SS "1   Buffer reentrant outputs"
.IX Subsection "1 Buffer reentrant outputs"
veredit inserts buffers before outputs of the
module if the output net is connected to an input pin
of an instance of that module.
.PP
To determine the pins of the buffer and the direction of submodule
pins it is required that the module declarations are in the
input file.
.PP
syntax:
.PP
.Vb 4
\&    MODULE <modulename>
\&    {
\&       \-bufferoutputs <buffer name> [ \-exclude <signal list> ]
\&    }
.Ve
.PP
The \-exclude option is optional.
.PP
Example:
.PP
.Vb 4
\&    MODULE MACRO_DBESS
\&    {
\&      \-bufferoutputs BF4TX32_P \-exclude TIMB0CLK,TIMMCORE_CLOCKDR
\&    }
.Ve
.SS "2   Insert a buffer (or inverter) behind a cell output"
.IX Subsection "2 Insert a buffer (or inverter) behind a cell output"
Veredit can insert a buffer in the netlist BEHIND A CELL OUTPUT, creating
a new unique net name and a new unique instance name.
.PP
It has not much intelligence yet:
\&\- The feature does only single bit until now.
\&\- you have to provide the name of the instance output pin(s) whereto
  the buffer has to be connected.
\&\- The input pin name of the buffer can be specified with the optional
  parameter \-input. The default input pin name is A.
\&\- The output pin name of the buffer can be specified with the optional
  parameter \-output. The default input pin name is Z.
.PP
You need to specify only the outputs to which the buffer will be connected.
.PP
Syntax:
.PP
.Vb 7
\&    MODULE <modulename>
\&    {
\&       \-buffer <buffer name>
\&       [ \-input <buffer input pin name> ]
\&       [ \-output <buffer output pin name> ]
\&       <instantiation\-list outputs>
\&    }
.Ve
.PP
Example (will add 3 buffers):
.PP
.Vb 7
\&    MODULE test
\&    {
\&       \-buffer BF4TX32_P
\&         AO39_P  inst_a(.Z());
\&         FD1SQ_P inst_b(.Q());
\&         ND2_P   inst_C(.Z());
\&    }
.Ve
.SS "3   Insert a buffer (or inverter) before a cell input"
.IX Subsection "3 Insert a buffer (or inverter) before a cell input"
This command works the same as the one above (\-buffer), except that
this command inserts a buffer BEFORE A CELL INPUT.
.PP
Syntax:
.PP
.Vb 7
\&    MODULE <modulename>
\&    {
\&       \-bufferinput <buffer name>
\&       [ \-input <buffer input pin name> ]
\&       [ \-output <buffer output pin name> ]
\&       <instantiation\-list outputs>
\&    }
.Ve
.PP
Example (will add 3 buffers):
.PP
.Vb 7
\&    MODULE test
\&    {
\&       \-bufferinput BF4TX32_P
\&         AO39_P  inst_a(.A());
\&         FD1SQ_P inst_b(.D());
\&         ND2_P   inst_C(.A());
\&    }
.Ve
.PP
Example, buffer has non-default pin names
.PP
.Vb 9
\&    MODULE test
\&    {
\&       \-bufferinput BUFFD
\&       \-input I
\&       \-output X
\&         AO39_P  inst_a(.A());
\&         FD1SQ_P inst_b(.D());
\&         ND2_P   inst_C(.A());
\&    }
.Ve
.SS "4 Adding input or output observe modules"
.IX Subsection "4 Adding input or output observe modules"
This function is used to insert observe modules for boundary scan test, but can
also be used for insertion of other modules (for instance flipflops).
.PP
One has to specify the input pin and output pin of the module to insert.  With the
\&'\-other' directive one can specify common nets that are connected to all of the
inserted modules (for instance the clock). In addition the nets for which this has
to be applied have to be given.
.PP
With \-insertobsinput one can insert a module in an input net. A new unique net
name is created for connection to the output of the module. In the module
connections of the other instances the original input net name is also changed
to the new created net name.
.PP
to add input observe modules:
.PP
.Vb 8
\&    MODULE <top module name>
\&    {
\&      \-insertobsinput <observe module name>
\&        \-input <input pin name of obs module>
\&        \-output <output pin name of obs module>
\&      [ \-other <other pins that must be connected> ]
\&        \-nets <net names were obs module must be inserted>
\&    }
.Ve
.PP
The construct
    \-other <other pins that must be connected>
is optional.
.PP
With \-insertobsoutput one can insert a module in an output net. A new
unique net name is created for connection to the input of
the module. In the module connections of the other instances the
original output net name is also changed to the new created net name.
.PP
to add output observe module:
.PP
.Vb 8
\&    MODULE <top module name>
\&    {
\&      \-insertobsoutput <observe module name>
\&        \-input <input pin name of obs module>
\&        \-output <output pin name of obs module>
\&      [ \-other <other pins that must be connected> ]
\&        \-nets <net names were obs module must be inserted>
\&    }
.Ve
.PP
The construct
    \-other <other pins that must be connected>
is optional.
.PP
Example:
.PP
.Vb 7
\&    MODULE psys_1801
\&    {
\&       \-insertobsinput dft_obs_ctrl_comb
\&            \-input D 
\&            \-output Q 
\&            \-other .CP(dtl_mmio_clk), .HOLD(hold_inputs)
\&            \-nets dtl_mmio_rst_an pi_sel[2:0] pi_tout
\&    
\&        \-insertobsoutput dft_obs_ctrl_ff
\&            \-input D
\&            \-output Q
\&            \-other .CP(dtl_mmio_clk), .HOLD(hold_inputs), .X(X)
\&            \-nets pi_ack[2:0] dtl_mmio_abort_all
\&    }
.Ve
.PP
Note that you are allowed to omit the vector range if the net is a vector (bus)
and you want to apply to the complete vector.
.SS "5  Adding tie cells"
.IX Subsection "5 Adding tie cells"
Veredit can add tie cells to your design.
You can add any kind of tie cell. One you made yourself or
one from the corelib library.
.PP
.Vb 10
\&    MODULE <module name>
\&    {
\&        \-tiecell <module name of the tie cell>
\&        \-output <output pin name of the tie cell>
\&      [ \-other <other pins that must be connected> ]
\&        \-net <net name that needs to be connected to tie cell>
\&      [ \-exclude <pins to exclude> ]
\&      [ \-inst <instance names> ]
\&      [ \-label <instance name label>]
\&    }
.Ve
.IP \fB\-tiecell\fR 4
.IX Item "-tiecell"
Name of the tiecell. This can be a library cell or a cell you made yourself.
.IP \fB\-output\fR 4
.IX Item "-output"
Name of the output pin of the tie cell.
.IP \fB\-other\fR 4
.IX Item "-other"
Optional parameter to specify other pins. This is for selfmade tiecells. For instance
to connect a clock and a reset pin. Use the Verilog portmap syntax to specify connections.
.IP \fB\-net\fR 4
.IX Item "-net"
Specify the nets for which a tiecell has to be inserted. This can be a list separated by
spaces. Only non-bus nets are supported.
.IP \fB\-exclude\fR 4
.IX Item "-exclude"
Optional parameter. With this option one can specify a list of pins which
will be excluded from tieing to a tiecell. For instance testpins like si and ssi.
The list is separated by spaces.
.IP \fB\-inst\fR 4
.IX Item "-inst"
Optional parameter. With this option one can specify instance names. Only the instances in this
space separated list will get a tiecell connection, all others are skipped. Without this option
all instances will get a tiecell connection if needed. Wildcard `*' is supported.
.IP \fB\-label\fR 4
.IX Item "-label"
A label will be added in the instance name of the tiecell.
The instance name will be "<tiecell name><label>_inst"
.PP
An example to insert tie cells in all modules:
.PP
.Vb 8
\&    MODULE *
\&    {
\&       \-tiecell tie_down
\&       \-output Z
\&       \-other .rst_n(rst_n)
\&       \-net 1\*(Aqb0
\&       \-exclude si ssi ssi_q
\&       \-label _low
\&    
\&       \-tiecell tie_up
\&       \-output Z
\&       \-other .rst_n(rst_n)
\&       \-net 1\*(Aqb1 vdd
\&       \-label _high
\&    }
.Ve
.PP
Tie off a specific instance in module "top".
.PP
.Vb 7
\&    MODULE top
\&    {
\&        \-tiecell tohx1
\&        \-output TH
\&        \-net 1\*(Aqb1
\&        \-inst i_34 U*
\&    }
.Ve
.SS "6  List instances connected to a certain net"
.IX Subsection "6 List instances connected to a certain net"
Veredit will create a file named "MODULE\-NAME\-<net name>.instlist"
with a list of all the instances that have a port connected to <net name>.
.PP
This function is unfinished work and works only correct on single nets
that are not part of a vector.
.PP
.Vb 4
\&    MODULE <modulename>
\&    {
\&      \-listinst
\&      \-net <net name>
\&      
\&    }
.Ve
.PP
Example:
.PP
.Vb 4
\&    MODULE rdt_router_data
\&    {
\&      \-listinst
\&      \-net clk
\&      
\&    }
.Ve
.SS "7    Adding a module"
.IX Subsection "7 Adding a module"
Add module to the verilog files you read in,
or add it at the top of the edit-file.
.SS "8    Deleting a module"
.IX Subsection "8 Deleting a module"
.Vb 4
\&    MODULE <modulename>
\&    {
\&       \-delete [ \-empty ]
\&    }
.Ve
.PP
If the optional construct \-empty is used the module is only deleted if it has
no instances an no continuous assigns.
.PP
Example:
.PP
.Vb 4
\&    MODULE *
\&    {
\&      \-delete \-empty
\&    }
.Ve
.SS "9 Add ports or net-declarations to a module"
.IX Subsection "9 Add ports or net-declarations to a module"
Specify new ports or nets with the verilog declaration list syntax.
.PP
For ports this command will add a port and a port-declaration.
.PP
When you try to add a port or net that is already in the module
it will be ignored. You have to delete it first with \-delports.
.PP
Example:
.PP
.Vb 8
\&    MODULE modulename
\&    {
\&       \-addports
\&         input Aap,Noot ;
\&         output [2:0] Banaan;
\&         inout Boom ;
\&         wire [2:0] Banaan;
\&    }
.Ve
.SS "10  Deleting ports or net-declarations from a module"
.IX Subsection "10 Deleting ports or net-declarations from a module"
Specify the ports with the verilog port-list syntax.
This command will delete the port, port-declaration and net-declaration.
(Wires are also deleted.)
.PP
This command can also be used to delete a net declaration (wire) when there is
no port with that same name. You will get a warning that there was no port
found with that name.
.PP
Examples:
.PP
.Vb 5
\&    MODULE modulename
\&    {
\&      \-delports
\&        TCP_CAS, TCP_WE, boot  // remove only these ports and net declarations.
\&    }
\&
\&    MODULE modulename
\&    {
\&      \-delports        // remove all ports and their net declarations.
\&        \-ALL
\&    }
.Ve
.PP
When using \-rmports the net declarations (wires) are not deleted.
Net declarations are added when they don't exist yet.
.PP
.Vb 5
\&    MODULE modulename
\&    {
\&      \-rmports
\&        TCP_CAS, TCP_WE, boot  // remove only these ports and add wires.
\&    }
\&
\&    MODULE modulename
\&    {
\&      \-rmports
\&        \-ALL        // this will remove all ports and place wires instead.
\&    }
.Ve
.PP
When using \-delnets only net declarations are deleted.
.PP
.Vb 5
\&    MODULE modulename
\&    {
\&      \-delnets
\&        TCP_CAS, TCP_WE, boot  // remove only these nets.
\&    }
\&
\&    MODULE modulename
\&    {
\&      \-delnets
\&        \-ALL        // this will remove all nets.
\&    }
.Ve
.SS "11 Modify instance names"
.IX Subsection "11 Modify instance names"
With this command instantiaton names can be modified.
.PP
.Vb 4
\&    MODULE <modulename>
\&    {
\&       \-instance oldname = newname
\&    }
.Ve
.PP
These edits are always applied last, during netlist write out.
.PP
A default editfile with all instantiation names can 
be generated with the \-writeEdits option.
.PP
Additional options \-leafCells and \-instLength can be used
to generate a default edit file. For instance to include
all leaf cells and only instantiation names longer than 10 characters:
.PP
.Vb 1
\&    veredit input.v \-writeEdits \-leafCells \-instLength 10
.Ve
.SS "12  Add/Modify instances or module connections"
.IX Subsection "12 Add/Modify instances or module connections"
Specify with the verilog instance syntax.
This statement can
.PP
.Vb 4
\& \- add a new instance
\& \- modify module name of an instance
\& \- modify net name if port name exists
\& \- create a new port connection with new net name
\&
\&
\&    MODULE modulename
\&    {
\&       \-addinst
\&       [ \-keepmodname ]
\&         newmodname instancename ( .portname(newnetname)) ;
\&    }
.Ve
.PP
Veredit does only use the instance name to find an instance.
When option \-keepmodname is used the module name of the instance will not be changed.
Then the module name of the instance is a don't care.
.PP
Examples:
.PP
.Vb 8
\&    MODULE cpa
\&    {
\&      \-addinst
\&        newcell i0 (.CK(CK), .Z(Z));  // add a new cell connected to \*(AqCK\*(Aq and \*(AqZ\*(Aq
\&        newname i1 ();                // change module name only
\&        cell    i2 (.myport(newnet)); // connect \*(Aqnewnet\*(Aq to port \*(Aqmyport\*(Aq.
\&        cell2   i3 (.newport(reset)); // add \*(Aqnewport\*(Aq and connect to \*(Aqreset\*(Aq
\&    }
.Ve
.PP
Be aware that the module name of the instance will always be changed, also when you specify
new connections, unless you use option \-keepmodname.
.PP
.Vb 5
\&    MODULE top
\&    {
\&        \-addinst \-keepmodname
\&        module_Y inst_2 (.a(a));    // module_Y is a don\*(Aqt care here.
\&    }
.Ve
.SS "13  Modify instances or module connections"
.IX Subsection "13 Modify instances or module connections"
Specify with the verilog instance syntax.
This statement can
.PP
.Vb 3
\& \- modify module name of an instance
\& \- modify net name if port name exists
\& \- create a new port connection with new net name
\&
\&
\&    MODULE modulename
\&    {
\&       \-modinst
\&       [ \-keepmodname ]
\&         newmodname instancename ( .portname(newnetname)) ;
\&    }
.Ve
.PP
This command works the same as \-addinst with the exception that it will
never add a new instance if it doesn't exist and it will issue a warning
if the instance doesn't exist.
.PP
Veredit does only use the instance name to find an instance.
When option \-keepmodname is used the module name of the instance will not be changed.
Then the module name of the instance is a don't care.
.PP
Examples:
.PP
.Vb 7
\&    MODULE cpa
\&    {
\&      \-modinst
\&        newname  i1 ();                 // change module name only
\&        mycell   i2 (.myport(newnet));  // connect \*(Aqnewnet\*(Aq to port \*(Aqmyport\*(Aq.
\&        mycell2  i3 (.newport(reset));  // add \*(Aqnewport\*(Aq and connect to \*(Aqreset\*(Aq
\&    }
.Ve
.PP
Be aware that the module name of the instance will always be changed, also when you specify
new connections, unless you use option \-keepmodname.
.PP
.Vb 5
\&    MODULE top
\&    {
\&        \-modinst \-keepmodname
\&        module_Y inst_2 (.a(a));    // module_Y is a don\*(Aqt care here.
\&    }
.Ve
.SS "14  Delete instances or module connections"
.IX Subsection "14 Delete instances or module connections"
Specify with the verilog instance syntax.
This statement can
.PP
.Vb 3
\& \- delete an instance
\& \- delete a connection from an instance
\& \- delete all instances
.Ve
.PP
When there are no module connections given veredit deletes
the complete instance.
.PP
To select an instance only the instance name has to match. The
cell name is a don't care.
.PP
To delete a connection you don't need to provide the net-name to
which the port is connected. It is a don't care.
.PP
.Vb 5
\&    MODULE modulename
\&    {
\&      \-delinst
\&        cellname instname (.portname(netname));
\&    }
\&
\&    MODULE modulename
\&    {
\&      \-delinst
\&        \-ALL
\&    }
.Ve
.PP
Examples:
.PP
.Vb 7
\&    MODULE cpa_top
\&    {
\&       \-delinst
\&        IOP IOP_inst ();           // remove complete instance
\&        MT  MT_inst (.TIMC0SDA(),  // remove 3 connections from instance
\&              .TIMXZ2L0B0(), .A(Z));
\&    }
\&
\&    MODULE global_controller
\&    {
\&       \-delinst
\&         \-ALL              // delete all instances
\&    }
.Ve
.SS "15  Add/Modify assigns"
.IX Subsection "15 Add/Modify assigns"
use assign syntax.
This statement can
.PP
.Vb 2
\& \- add a new assign statement
\& \- modify an assign statement
.Ve
.PP
Example:
.PP
.Vb 7
\&    MODULE modulename
\&    {
\&       \-addassign
\&         assign clkout[3:0] = TD[7:4] ;
\&         assign clkout[10:9] = wat[1:0];
\&         assign a = b ;
\&    }
.Ve
.SS "16  Delete assigns"
.IX Subsection "16 Delete assigns"
This statement can
.PP
.Vb 2
\& \- delete an assign statement
\& \- delete all assign statements
.Ve
.PP
Examples:
.PP
.Vb 6
\&    MODULE modulename
\&    {
\&       \-delassign
\&         assign clkout = TQ[5] ;
\&         assign c = TQ[5] ;
\&    }
\&
\&    MODULE modulename2
\&    {
\&       \-delassign
\&         \-ALL
\&    }
.Ve
.SS "17  Create a shell around a module."
.IX Subsection "17 Create a shell around a module."
This statement will create a new module which is a shell
(wrapper) around the module. IO ports will be mapped one to one.
You have to specify the new module name and take care that
it is unique.
The instance name of the original module in the shell will be the
module name with "_inst" concatenated.
.PP
.Vb 4
\&    MODULE MODULE\-NAME
\&    {
\&      \-shell <shell module name>
\&    }
.Ve
.PP
After this statement you can direct run edit statements on the
new module.
.PP
Example:
.PP
.Vb 4
\&    MODULE top
\&    {
\&      \-shell top_shell
\&    }
.Ve
.SS "18  Replace assigns with buffers."
.IX Subsection "18 Replace assigns with buffers."
This statement will replace simple single bit continuous assigns
with a buffer.
The input pin name of the buffer can be specified with the optional
parameter \-input. The default input pin name is \f(CW\*(C`A\*(C'\fR.
The output pin name of the buffer can be specified with the optional
parameter \-output. The default input pin name is \f(CW\*(C`Z\*(C'\fR.
.PP
.Vb 6
\&    MODULE MODULE\-NAME
\&    {
\&       \-bufferassigns <buffer name>
\&       [ \-input <buffer input pin name> ]
\&       [ \-output <buffer output pin name> ]
\&    }
.Ve
.PP
Example:
.PP
.Vb 4
\&    MODULE *
\&    {
\&       \-bufferassigns bfx1
\&    }
\&
\&    MODULE *
\&    {
\&       \-bufferassigns BUFFD1 \-input I
\&    }
.Ve
.SS "19  Pull pins to top level."
.IX Subsection "19 Pull pins to top level."
Pull pins to top level. Pins are merged up in the hierarchy.  This counts for
pins that already exist and for pins that meet each other, because there are
multiple instances of the module in the hierarchy.
.PP
.Vb 4
\&    MODULE MODULE\-NAME
\&    {
\&        \-pulluppin <pin list>
\&    }
.Ve
.PP
<pin list> is a list of pin names separated by spaces. Bus names are also
supported.
.PP
Example:
.PP
.Vb 5
\&    MODULE a
\&    {
\&        // this will pull up pins Q and DBUS to toplevel.
\&        \-pulluppin Q DBUS
\&    }
.Ve
.SS "20  Add/Modify parameter declarations"
.IX Subsection "20 Add/Modify parameter declarations"
use parameter declaration syntax.
This statement can
.PP
.Vb 2
\& \- add a new parameter declaration statement
\& \- modify a parameter declaration statement
.Ve
.PP
Example:
.PP
.Vb 5
\&    MODULE modulename
\&    {
\&       \-addparameterdecl
\&        parameter x = 300 ;
\&        parameter y = 200 ;
\&       
\&    }
.Ve
.SS "21  Delete parameter declarations"
.IX Subsection "21 Delete parameter declarations"
This statement can
.PP
.Vb 2
\& \- delete a parameter declaration statement
\& \- delete all parameter declaration statements
.Ve
.PP
Examples:
.PP
.Vb 5
\&    MODULE modulename
\&    {
\&       \-delparameterdecl
\&        parameter y = 200 ;
\&    }
\&
\&    MODULE modulename2
\&    {
\&       \-delparameterdecl
\&         \-ALL
\&    }
.Ve
.SH AUTHORS
.IX Header "AUTHORS"
Veredit is made by C3PO, Ondrej Popp and Erwin Waterlander
.PP
Erwin Waterlander <waterlan@xs4all.nl>
.PP
Ondrej Popp <ondrejpopp@users.sourceforge.net>
.PP
C3PO: <http://sourceforge.net/projects/c3po>
